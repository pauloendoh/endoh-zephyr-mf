"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.iterateFederatedRemoteConfig = iterateFederatedRemoteConfig;
const zephyr_agent_1 = require("zephyr-agent");
const extract_federation_config_1 = require("./extract-federation-config");
const is_module_federation_plugin_1 = require("./is-module-federation-plugin");
function iterateFederatedRemoteConfig(config, for_remote) {
    if (!config.plugins) {
        return [];
    }
    const results = [];
    for (const plugin of config.plugins) {
        if (!(0, is_module_federation_plugin_1.isModuleFederationPlugin)(plugin)) {
            continue;
        }
        const federatedConfig = (0, extract_federation_config_1.extractFederatedConfig)(plugin);
        if (!federatedConfig) {
            (0, zephyr_agent_1.logFn)('warn', `No federated config found for plugin: ${plugin.constructor.name}, skipping...`);
            continue;
        }
        results.push(for_remote(federatedConfig));
    }
    (0, zephyr_agent_1.ze_log)('iterateFederatedRemoteConfig.results', results);
    return results;
}
//# sourceMappingURL=iterate-federated-remote-config.js.map